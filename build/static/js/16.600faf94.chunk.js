(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{445:function(e,t,a){"use strict";a.r(t);var n=a(7),l=a(8),c=a(10),r=a(9),o=a(11),i=a(27),s=a(1),m=a.n(s),u=a(3),d=a(2),h=a.n(d),p=a(202),E=a.n(p),f=a(199),b=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).handlePerson=function(e){a.setState({selectedPerson:e}),console.log("Option selected:",e)},a.handleClient=function(e){a.setState({selectedClient:e}),console.log("Option selected:",e)},a.handleType=function(e){a.setState({selectedType:e}),console.log("Option selected:",e)},a.handleChoice=function(e){a.setState({selectedChoice:e}),console.log("Option selected:",e)},a.toggle=a.toggle.bind(Object(i.a)(Object(i.a)(a))),a.postInfo=a.postInfo.bind(Object(i.a)(Object(i.a)(a))),a.handleInputs=a.handleInputs.bind(Object(i.a)(Object(i.a)(a))),a.state={activeTab:"1",dropdownOpen:new Array(6).fill(!1),clientList:[{value:"",label:""}],contactList:[{value:"",label:""}],selectedClient:null,selectedPerson:null,selectedType:null,selectedChoice:null,client:"",createdBy:"",rfq:"",quoteType:"",description:"",dateReceived:"",deadline:"",time:"",isSubmitted:"",comments:""},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchPost()}},{key:"fetchPost",value:function(){var e=this,t=[];fetch("https://brimis-crm-backend.herokuapp.com/crm/clientcontacts/").then(function(e){return console.log("fetched create task clients"),e.json()}).then(function(e){t=e.map(function(e){return e})}).catch(function(e){console.log(e)}).then(function(){for(var a=[{value:"",label:""}],n=[{value:"",label:""}],l=0;l<t.length;l++)a[l]={value:t[l].client.name,label:t[l].client.name},n[l]={value:t[l].contact.firstName,label:t[l].contact.firstName},console.log(a[l].value);e.setState({clientlist:a.concat(),contactList:n.concat()})})}},{key:"handleInputs",value:function(e){return function(t){var a={};a[e]=t.target.value,this.setState(a)}.bind(this)}},{key:"postInfo",value:function(){E.a.post("https://brimis-crm-backend.herokuapp.com/crm/quotes/create/",{client:"",createdBy:"",rfq:"",quoteType:"",description:"",dateReceived:"",deadline:"",time:"",isSubmitted:"",comments:""}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"toggleDrop",value:function(e){var t=this.state.dropdownOpen.map(function(t,a){return a===e&&!t});this.setState({dropdownOpen:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedPerson,n=t.selectedClient,l=t.selectedType,c=t.selectedChoice;return m.a.createElement(u.F,null,m.a.createElement(u.k,null,m.a.createElement(u.F,null,m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.y,{htmlFor:"street"}," Client "),m.a.createElement(f.a,{value:n,onChange:this.handleClient,options:this.state.clientlist})),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.y,{htmlFor:"street"}," Contact Person "),m.a.createElement(f.a,{value:a,onChange:this.handlePerson,options:this.state.contactList})),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.y,{htmlFor:"street"}," Quote Type "),m.a.createElement(f.a,{value:l,onChange:this.handleType,options:[{value:"product",label:"Product"},{value:"service",label:"Service"},{value:"other",label:"Other"}]}))),m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"country"}," Description "),m.a.createElement(u.t,{type:"text",id:"country",placeholder:"Enter Description",onChange:this.handleInputs("description")})),m.a.createElement(u.F,null,m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{for:"deadline"}," DeadLine "),m.a.createElement(u.t,{type:"date",name:"deadline",id:"deadLine",placeholder:"DD/MM/YY",onChange:this.handleInputs("deadline")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{for:"time"},"Time "),m.a.createElement(u.t,{type:"time",name:"time",id:"time",placeholder:"00h00",onChange:this.handleInputs("time")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.y,{htmlFor:"street"}," Submitted "),m.a.createElement(f.a,{value:c,onChange:this.handleChoice,options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}]}))),m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"country"}," Comments "),m.a.createElement(u.t,{type:"text",id:"country",placeholder:"Enter Comment",onChange:this.handleInputs("comments")})),m.a.createElement(u.e,{type:"submit",size:"sm",color:"primary",onClick:function(){return e.postInfo}}," ",m.a.createElement("i",{className:"fa fa-user"}," "),"Submit"),m.a.createElement(u.e,{type:"reset",size:"sm",color:"danger"},m.a.createElement("i",{className:"fa fa-ban"})," Reset")))}}]),t}(s.Component),g=[{value:"true",label:"Yes"},{value:"false",label:"No"}],y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).handleClient=function(e){a.setState({selectedClient:e}),console.log("Client selected:",e)},a.handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a.toggle=a.toggle.bind(Object(i.a)(Object(i.a)(a))),a.postInfo=a.postInfo.bind(Object(i.a)(Object(i.a)(a))),a.handleInputs=a.handleInputs.bind(Object(i.a)(Object(i.a)(a))),a.state={activeTab:"1",dropdownOpen:new Array(6).fill(!1),selectedClient:null,clientList:[{value:"",label:""}],client:"",tenderID:"",description:"",ResponsiblePerson:"",deadline:"",time:"",enquiryDate:"",clarificationDate:"",buyerEnduser:"",trn:"",tenderValue:"",status:"",isDelivered:"",probability:"",technicalFunctionality:"",expectedOrderPlacement:"",comments:""},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"toggleDrop",value:function(e){var t=this.state.dropdownOpen.map(function(t,a){return a===e&&!t});this.setState({dropdownOpen:t})}},{key:"componentDidMount",value:function(){this.fetchPost()}},{key:"fetchPost",value:function(){var e=this,t=[];fetch("https://brimis-crm-backend.herokuapp.com/crm/clients/").then(function(e){return console.log("fetched create task clients"),e.json()}).then(function(e){t=e.map(function(e){return e})}).catch(function(e){console.log(e)}).then(function(){for(var a=[{value:"",label:""}],n=0;n<t.length;n++)a[n]={value:t[n].id,label:t[n].name},console.log(a[n].value,a[n].label);e.setState({clientList:a.concat()})})}},{key:"handleInputs",value:function(e){return function(t){var a={};a[e]=t.target.value,this.setState(a)}.bind(this)}},{key:"postInfo",value:function(){E.a.post("https://brimis-crm-backend.herokuapp.com/crm/tenders/create/",{client:"",tenderID:"",description:"",ResponsiblePerson:"",deadline:"",time:"",enquiryDate:"",clarificationDate:"",buyerEnduser:"",trn:"",tenderValue:"",status:"",isDelivered:"",probability:"",technicalFunctionality:"",expectedOrderPlacement:"",comments:""}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedOption,n=t.selectedClient;return m.a.createElement(u.F,null,m.a.createElement(u.k,null,m.a.createElement(u.F,null,m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.y,{htmlFor:"client"}," Client "),m.a.createElement(f.a,{value:n,onChange:this.handleClient,options:this.state.clientList})),m.a.createElement(u.k,{sm:"9"},m.a.createElement(u.y,{htmlFor:"client_entry"}," Enter New Client "),m.a.createElement(u.t,{type:"text",id:"client",placeholder:"Enter client",onChange:this.handleInputs("client")}))),m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"description"}," Description "),m.a.createElement(u.t,{type:"text",id:"description",placeholder:"Enter Description",onChange:this.handleInputs("description")})),m.a.createElement(u.F,null,m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"resp_person"},"Responsible Person "),m.a.createElement(u.t,{type:"text",id:"resp_person",placeholder:"Who is responsible?",onChange:this.handleInputs("ResponsiblePerson")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"deadline"}," Deadline "),m.a.createElement(u.t,{type:"date",id:"deadline",placeholder:"DD/MM/YYYY",onChange:this.handleInputs("deadline")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"time"}," Time "),m.a.createElement(u.t,{type:"time",id:"time",placeholder:"00h00",onChange:this.handleInputs("time")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"enq_date"}," Enquiry Date "),m.a.createElement(u.t,{type:"date",id:"enq_date",placeholder:"DD/MM/YYYY",onChange:this.handleInputs("enquiryDate")})))),m.a.createElement(u.F,null,m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"clarification"},"Clarification Date "),m.a.createElement(u.t,{type:"date",id:"clarification",placeholder:"DD/MM/YYYY",onChange:this.handleInputs("clarificationDate")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"trn"}," Tender Ref. Number "),m.a.createElement(u.t,{type:"text",id:"trn",placeholder:"RFQ",onChange:this.handleInputs("trn")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"trn_val"}," Estimated Tender Value "),m.a.createElement(u.t,{type:"text",id:"trn_val",placeholder:"R0.00",onChange:this.handleInputs("tenderValue")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"status"}," Status "),m.a.createElement(u.t,{type:"text",id:"status",placeholder:"Status",onChange:this.handleInputs("status")})))),m.a.createElement(u.F,null,m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.y,{htmlFor:"submitted"},"Submitted "),m.a.createElement(f.a,{value:a,onChange:this.handleChange,options:g})),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"prob"}," Probability "),m.a.createElement(u.t,{type:"text",id:"prob",placeholder:"0%",onChange:this.handleInputs("probability")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"tech_func"}," Technical Functionality "),m.a.createElement(u.t,{type:"text",id:"tech_func",placeholder:"Functional Description",onChange:this.handleInputs("technicalFunctionality")}))),m.a.createElement(u.k,{sm:"3"},m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"ex_or_pl"}," Expected Order Placement "),m.a.createElement(u.t,{type:"text",id:"ex_or_pl",placeholder:"With Whom?",onChange:this.handleInputs("expectedOrderPlacement")})))),m.a.createElement(u.s,null,m.a.createElement(u.y,{htmlFor:"comment"}," Comments "),m.a.createElement(u.t,{type:"text",id:"comment",placeholder:"Enter Comment",onChange:this.handleInputs("comments")})),m.a.createElement(u.e,{type:"submit",size:"sm",color:"primary",onClick:function(){return e.postInfo}}," ",m.a.createElement("i",{className:"fa fa-user"}," "),"Submit"),m.a.createElement(u.e,{type:"reset",size:"sm",color:"danger"},m.a.createElement("i",{className:"fa fa-ban"})," Reset")))}}]),t}(s.Component),v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).onEntering=a.onEntering.bind(Object(i.a)(Object(i.a)(a))),a.onEntered=a.onEntered.bind(Object(i.a)(Object(i.a)(a))),a.onExiting=a.onExiting.bind(Object(i.a)(Object(i.a)(a))),a.onExited=a.onExited.bind(Object(i.a)(Object(i.a)(a))),a.toggle=a.toggle.bind(Object(i.a)(Object(i.a)(a))),a.toggleAccordion=a.toggleAccordion.bind(Object(i.a)(Object(i.a)(a))),a.toggleCustom=a.toggleCustom.bind(Object(i.a)(Object(i.a)(a))),a.toggleFade=a.toggleFade.bind(Object(i.a)(Object(i.a)(a))),a.state={collapse:!1,accordion:[!1,!1],custom:[!0,!1],status:"Closed",fadeIn:!0,timeout:300},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"onEntering",value:function(){this.setState({status:"Opening..."})}},{key:"onEntered",value:function(){this.setState({status:"Opened"})}},{key:"onExiting",value:function(){this.setState({status:"Closing..."})}},{key:"onExited",value:function(){this.setState({status:"Closed"})}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"toggleAccordion",value:function(e){var t=this.state.accordion.map(function(t,a){return e===a&&!t});this.setState({accordion:t})}},{key:"toggleCustom",value:function(e){var t=this.state.custom.map(function(t,a){return e===a&&!t});this.setState({custom:t})}},{key:"toggleFade",value:function(){this.setState({fadeIn:!this.state.fadeIn})}},{key:"render",value:function(){var e=this;return m.a.createElement(u.F,null,m.a.createElement(u.k,null,m.a.createElement("div",{id:"accordion"},m.a.createElement(u.f,null,m.a.createElement(u.j,{id:"headingOne"},m.a.createElement(u.e,{block:!0,color:"link",className:"text-left m-0 p-0",onClick:function(){return e.toggleAccordion(0)},"aria-expanded":this.state.accordion[0],"aria-controls":"collapseOne"},m.a.createElement("h5",{className:"m-0 p-0"},"Create General Quotation"))),m.a.createElement(u.l,{isOpen:this.state.accordion[0],"data-parent":"#accordion",id:"collapseOne","aria-labelledby":"headingOne"},m.a.createElement(u.g,null,m.a.createElement(b,null)))),m.a.createElement(u.f,null,m.a.createElement(u.j,{id:"headingTwo"},m.a.createElement(u.e,{block:!0,color:"link",className:"text-left m-0 p-0",onClick:function(){return e.toggleAccordion(1)},"aria-expanded":this.state.accordion[1],"aria-controls":"collapseTwo"},m.a.createElement("h5",{className:"m-0 p-0"},"Create Tender Quotation"))),m.a.createElement(u.l,{isOpen:this.state.accordion[1],"data-parent":"#accordion",id:"collapseTwo"},m.a.createElement(u.g,null,m.a.createElement(y,null)))))))}}]),t}(s.Component),k=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(c.a)(this,Object(r.a)(t).call(this))).state={list:[]},e}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchPost()}},{key:"fetchPost",value:function(){var e=this;fetch("https://brimis-crm-backend.herokuapp.com/crm/quotes/").then(function(e){return e.json()}).then(function(t){e.setState({list:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.list.map(function(e,t){return m.a.createElement(u.A,{key:t,tag:"a",href:"#/quotations/rfq_details"},"RFQ ",e.client," - REF: ",e.rfq,m.a.createElement("div",{className:"card-header-actions"},m.a.createElement("a",{href:"#",rel:"noreferrer noopener",className:"card-header-action"},m.a.createElement("small",{className:"text-muted"},"delete"))),m.a.createElement("div",{className:"card-header-actions"},m.a.createElement("a",{href:"#",rel:"noreferrer noopener",className:"card-header-action"},m.a.createElement("small",{className:"text-muted"},"edit"))))});return m.a.createElement(u.F,null,m.a.createElement(u.k,null,m.a.createElement(u.z,null,e)))}}]),t}(s.Component),O=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(c.a)(this,Object(r.a)(t).call(this))).state={list:[]},e}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchPost()}},{key:"fetchPost",value:function(){var e=this;fetch("https://brimis-crm-backend.herokuapp.com/crm/tenders/").then(function(e){return e.json()}).then(function(t){e.setState({list:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.list.map(function(e,t){return m.a.createElement(u.A,{key:t,tag:"a",href:"#/quotations/tender_details"},"QFT ",e.client," - REF: ",e.tenderID,m.a.createElement("div",{className:"card-header-actions"},m.a.createElement("a",{href:"#",rel:"noreferrer noopener",className:"card-header-action"},m.a.createElement("small",{className:"text-muted"},"delete"))),m.a.createElement("div",{className:"card-header-actions"},m.a.createElement("a",{href:"#",rel:"noreferrer noopener",className:"card-header-action"},m.a.createElement("small",{className:"text-muted"},"edit"))))});return m.a.createElement(u.F,null,m.a.createElement(u.k,null,m.a.createElement(u.z,null,e)))}}]),t}(s.Component),C=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).toggle=a.toggle.bind(Object(i.a)(Object(i.a)(a))),a.state={activeTab:"1",dropdownOpen:new Array(6).fill(!1)},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"toggleDrop",value:function(e){var t=this.state.dropdownOpen.map(function(t,a){return a===e&&!t});this.setState({dropdownOpen:t})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(u.F,null,m.a.createElement(u.k,null,m.a.createElement(u.B,{tabs:!0},m.a.createElement(u.C,null,m.a.createElement(u.D,{className:h()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},"Request For Quotes")),m.a.createElement(u.C,null,m.a.createElement(u.D,{className:h()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},"Quotes For Tenders")),m.a.createElement(u.C,null,m.a.createElement(u.D,{className:h()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle("3")}},"Create Quote"))),m.a.createElement(u.G,{activeTab:this.state.activeTab},m.a.createElement(u.H,{tabId:"1"},m.a.createElement(u.r,{action:"",method:"post",className:"form-horizontal"},m.a.createElement(u.s,{row:!0},m.a.createElement(u.k,{sm:"12"},m.a.createElement(u.t,{type:"search",name:"search",id:"taskSearch",placeholder:"Search quotes"})))),m.a.createElement(k,null)),m.a.createElement(u.H,{tabId:"2"},m.a.createElement(u.r,{action:"",method:"post",className:"form-horizontal"},m.a.createElement(u.s,{row:!0},m.a.createElement(u.k,{sm:"12"},m.a.createElement(u.t,{type:"search",name:"search",id:"taskSearch",placeholder:"Search quotes"})))),m.a.createElement(O,null)),m.a.createElement(u.H,{tabId:"3"},m.a.createElement(v,null))))))}}]),t}(s.Component);t.default=C}}]);
//# sourceMappingURL=16.600faf94.chunk.js.map